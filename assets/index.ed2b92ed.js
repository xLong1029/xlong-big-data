import{H as S,r as c,w as C,Q as I,R as k,o as $,s as B,t as P,$ as T,al as L,I as s,q as N,x as h,z as W,a2 as D,am as E,S as w,ae as H,A as O,p as q,N as A,O as M,M as V,K as y,u as b}from"./index.25f72f1f.js";import{r as K,q as Q}from"./index.cc63b622.js";const R={class:"no-scale-box"},U={__name:"index",props:{width:{type:Number,default:1920},height:{type:Number,default:1080},scroll:{type:Boolean,default:!1},scrollPosition:{type:String,default:"center"},displayOrigin:{type:Boolean,default:!1},transitionName:{type:String,default:"fade"}},setup(a){const n=a,r=c(!0),e=c(null),o=c(null),i=c(1),t=c(!1),u=c(!1),d=c(null);C(()=>n.scroll,l=>{t.value=l});const f=()=>{const{width:l,height:_,displayOrigin:m,scroll:x}=n;if(t.value=x,m)return u.value=x,1;let p=window.innerWidth/l,g=window.innerHeight/_;return t.value?g:p<g?p:g},v=E(()=>{if(!e.value)return;i.value=f();const{width:l,height:_,scrollPosition:m,scroll:x}=n;e.value.style.setProperty("--scale",i.value),e.value.style.setProperty("--height",`${_}px`),e.value.style.setProperty("--width",`${l}px`),r.value=!1,w([d.value]),d.value=setTimeout(()=>{r.value=!0,H(()=>{if(t.value){const p={left:0,center:(e.value.offsetWidth*i.value-o.value.offsetWidth)/2,right:e.value.offsetWidth*i.value};o.value.scrollLeft=p[m]}})},100)},500);return I(()=>{v(),window.addEventListener("resize",v)}),k(()=>{window.removeEventListener("resize",v)}),O("getPageScale",i),(l,_)=>($(),B(D,{name:a.transitionName},{default:P(()=>[T(s("div",{ref_key:"ScaleContainer",ref:o,class:h(["scale-container scroll-style",{"scroll__x-visible":t.value,"scroll__y-visible":u.value}])},[s("div",R,[N(l.$slots,"noScale",{},void 0,!0)]),s("div",{ref_key:"scaleBox",ref:e,class:h(t.value?"scale-box__scroll":"scale-box"),style:W({width:`${a.width}px`,height:`${a.height}px`})},[N(l.$slots,"default",{},void 0,!0)],6)],2),[[L,r.value]])]),_:3},8,["name"]))}},X=S(U,[["__scopeId","data-v-38a6a8a2"]]);const z=a=>(A("data-v-12e8a917"),a=a(),M(),a),Y={class:"screen-nav-container"},j=z(()=>s("span",{class:"nav-text"},"\u5BFC\u822A\u4E00",-1)),F=[j],G=z(()=>s("span",{class:"nav-text"},"\u5BFC\u822A\u4E8C",-1)),J=[G],Z={__name:"index",props:{active:{type:Number,default:0}},emits:["change-nav"],setup(a,{emit:n}){return(r,e)=>($(),q("div",Y,[s("div",{class:h(["screen-nav__left",{"is-active":a.active===0}]),onClick:e[0]||(e[0]=o=>n("change-nav",0))},F,2),s("div",{class:h(["screen-nav__right",{"is-active":a.active===1}]),onClick:e[1]||(e[1]=o=>n("change-nav",1))},J,2)]))}},ee=S(Z,[["__scopeId","data-v-12e8a917"]]);const ae={class:"screen-container"},te={class:"screen-content-container"},se={__name:"index",setup(a){const{useScreenNav:n,useScreenApiData:r}=V,{activeNavIndex:e,handleChangeNav:o}=n(),{apiLoading:i,apiTimer:t,getScreenData:u}=r();C(()=>e.value,f=>{d()}),I(()=>{d()}),k(()=>{w([t.value])});const d=()=>{w([t.value]),i.value=!0,u(e.value),t.value=setInterval(()=>{u(e.value)},5e3)};return(f,v)=>($(),B(X,null,{default:P(()=>[s("div",ae,[y(K),s("div",te,[y(Q)]),y(ee,{active:b(e),onChangeNav:b(o)},null,8,["active","onChangeNav"])])]),_:1}))}},oe=S(se,[["__scopeId","data-v-e42a286c"]]);export{oe as default};
