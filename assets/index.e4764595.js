import{G as S,r as c,O as C,Q as k,R as B,z as L,o as N,q as I,w as P,Z as T,aj as W,H as s,p as $,t as p,y as D,a0 as E,ak as H,S as w,aa as O,n as M,M as V,N as j,L as q,J as g,v as b}from"./index.eedd7126.js";import{p as A,o as G}from"./index.31141c4b.js";import"./index.ad0befde.js";const J={class:"no-scale-box"},Q={__name:"index",props:{width:{type:Number,default:1920},height:{type:Number,default:1080},scroll:{type:Boolean,default:!1},scrollPosition:{type:String,default:"center"},displayOrigin:{type:Boolean,default:!1},transitionName:{type:String,default:"fade"}},setup(t){const n=t,r=c(!0),e=c(null),o=c(null),i=c(1),a=c(!1),d=c(!1),u=c(null);C(()=>n.scroll,l=>{a.value=l});const h=()=>{const{width:l,height:_,displayOrigin:m,scroll:x}=n;if(a.value=x,m)return d.value=x,1;let f=window.innerWidth/l,y=window.innerHeight/_;return a.value?y:f<y?f:y},v=H(()=>{if(!e.value)return;i.value=h();const{width:l,height:_,scrollPosition:m,scroll:x}=n;e.value.style.setProperty("--scale",i.value),e.value.style.setProperty("--height",`${_}px`),e.value.style.setProperty("--width",`${l}px`),r.value=!1,w([u.value]),u.value=setTimeout(()=>{r.value=!0,O(()=>{if(a.value){const f={left:0,center:(e.value.offsetWidth*i.value-o.value.offsetWidth)/2,right:e.value.offsetWidth*i.value};o.value.scrollLeft=f[m]}})},100)},500);return k(()=>{v(),window.addEventListener("resize",v)}),B(()=>{window.removeEventListener("resize",v)}),L("getPageScale",i),(l,_)=>(N(),I(E,{name:t.transitionName},{default:P(()=>[T(s("div",{ref_key:"ScaleContainer",ref:o,class:p(["scale-container scroll-style",{"scroll__x-visible":a.value,"scroll__y-visible":d.value}])},[s("div",J,[$(l.$slots,"noScale",{},void 0,!0)]),s("div",{ref_key:"scaleBox",ref:e,class:p(a.value?"scale-box__scroll":"scale-box"),style:D({width:`${t.width}px`,height:`${t.height}px`})},[$(l.$slots,"default",{},void 0,!0)],6)],2),[[W,r.value]])]),_:3},8,["name"]))}},R=S(Q,[["__scopeId","data-v-9f94597a"]]);const z=t=>(V("data-v-12e8a917"),t=t(),j(),t),U={class:"screen-nav-container"},X=z(()=>s("span",{class:"nav-text"},"\u5BFC\u822A\u4E00",-1)),Y=[X],Z=z(()=>s("span",{class:"nav-text"},"\u5BFC\u822A\u4E8C",-1)),F=[Z],K={__name:"index",props:{active:{type:Number,default:0}},emits:["change-nav"],setup(t,{emit:n}){return(r,e)=>(N(),M("div",U,[s("div",{class:p(["screen-nav__left",{"is-active":t.active===0}]),onClick:e[0]||(e[0]=o=>n("change-nav",0))},Y,2),s("div",{class:p(["screen-nav__right",{"is-active":t.active===1}]),onClick:e[1]||(e[1]=o=>n("change-nav",1))},F,2)]))}},ee=S(K,[["__scopeId","data-v-12e8a917"]]);const te={class:"screen-container"},ae={class:"screen-content-container"},se={__name:"index",setup(t){const{useScreenNav:n,useScreenApiData:r}=q,{activeNavIndex:e,handleChangeNav:o}=n(),{apiLoading:i,apiTimer:a,getScreenData:d}=r();C(()=>e.value,h=>{u()}),k(()=>{u()}),B(()=>{w([a.value])});const u=()=>{w([a.value]),i.value=!0,d(e.value),a.value=setInterval(()=>{d(e.value)},5e3)};return(h,v)=>(N(),I(R,null,{default:P(()=>[s("div",te,[g(A),s("div",ae,[g(G)]),g(ee,{active:b(e),onChangeNav:b(o)},null,8,["active","onChangeNav"])])]),_:1}))}},ie=S(se,[["__scopeId","data-v-10f5ddc2"]]);export{ie as default};
