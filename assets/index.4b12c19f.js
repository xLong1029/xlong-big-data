import{r,O as b,Q as C,R as k,z as P,o as w,q as B,w as I,a0 as z,G as S,aj as T,Z as G,ak as O,H as l,p as N,t as h,y as W,S as L,aa as A,n as E,M as H,N as j,L as M,J as y,v as $}from"./index.fad2b191.js";import{A as V,p as q,o as J}from"./index.9fff8507.js";import"./index.65e5d343.js";const Q={class:"no-scale-box"},R=Object.assign({name:"ScaleContainer"},{__name:"index",props:{width:{type:Number,default:1920},height:{type:Number,default:1080},scroll:{type:Boolean,default:!1},scrollPosition:{type:String,default:"center"},displayOrigin:{type:Boolean,default:!1},transitionName:{type:String,default:"fade"}},setup(e){const c=e,o=r(!0),t=r(null),a=r(null),s=r(1),i=r(!1),u=r(!1),v=r(null);b(()=>c.scroll,n=>{i.value=n});const _=()=>{const{width:n,height:p,displayOrigin:m,scroll:g}=c;if(i.value=g,m)return u.value=g,1;let f=window.innerWidth/n,x=window.innerHeight/p;return i.value?x:f<x?f:x},d=T(()=>{if(!t.value)return;s.value=_();const{width:n,height:p,scrollPosition:m,scroll:g}=c;t.value.style.setProperty("--scale",s.value),t.value.style.setProperty("--height",`${p}px`),t.value.style.setProperty("--width",`${n}px`),o.value=!1,L([v.value]),v.value=setTimeout(()=>{o.value=!0,A(()=>{if(i.value){const f={left:0,center:(t.value.offsetWidth*s.value-a.value.offsetWidth)/2,right:t.value.offsetWidth*s.value};a.value.scrollLeft=f[m]}})},100)},500);return C(()=>{d(),window.addEventListener("resize",d)}),k(()=>{window.removeEventListener("resize",d)}),P("getPageScale",s),(n,p)=>(w(),B(z,{name:e.transitionName},{default:I(()=>[G(l("div",{ref_key:"ScaleContainer",ref:a,class:h(["scale-container scroll-style",{"scroll__x-visible":i.value,"scroll__y-visible":u.value}])},[l("div",Q,[N(n.$slots,"noScale",{},void 0,!0)]),l("div",{ref_key:"scaleBox",ref:t,class:h(i.value?"scale-box__scroll":"scale-box"),style:W({width:`${e.width}px`,height:`${e.height}px`})},[N(n.$slots,"default",{},void 0,!0)],6)],2),[[O,o.value]])]),_:3},8,["name"]))}}),U=S(R,[["__scopeId","data-v-ca5a618b"]]);const D=e=>(H("data-v-12e8a917"),e=e(),j(),e),X={class:"screen-nav-container"},Y=D(()=>l("span",{class:"nav-text"},"\u5BFC\u822A\u4E00",-1)),Z=[Y],F=D(()=>l("span",{class:"nav-text"},"\u5BFC\u822A\u4E8C",-1)),K=[F],ee={__name:"index",props:{active:{type:Number,default:0}},emits:["change-nav"],setup(e,{emit:c}){const o=c;return(t,a)=>(w(),E("div",X,[l("div",{class:h(["screen-nav__left",{"is-active":e.active===0}]),onClick:a[0]||(a[0]=s=>o("change-nav",0))},Z,2),l("div",{class:h(["screen-nav__right",{"is-active":e.active===1}]),onClick:a[1]||(a[1]=s=>o("change-nav",1))},K,2)]))}},te=S(ee,[["__scopeId","data-v-12e8a917"]]);const ae={class:"screen-container"},se={class:"screen-content-container"},ne={__name:"index",setup(e){const{useScreenNav:c,useScreenApiData:o}=M,{activeNavIndex:t,handleChangeNav:a}=c(),{apiLoading:s,getScreenData:i,startLoopGetData:u,stopLoopGetData:v}=o();b(()=>t.value,d=>{_()}),C(()=>{_()}),k(()=>{L([apiTimer.value])});const _=()=>{v(),s.value=!0,u(()=>{i(V.GetScreenData,t.value)},5e3)};return(d,n)=>(w(),B(U,null,{default:I(()=>[l("div",ae,[y(q),l("div",se,[y(J)]),y(te,{active:$(t),onChangeNav:$(a)},null,8,["active","onChangeNav"])])]),_:1}))}},ce=S(ne,[["__scopeId","data-v-e6003daf"]]);export{ce as default};
