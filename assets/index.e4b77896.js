import{H as y,r,w as b,Q as C,R as I,o as w,s as k,t as B,a1 as z,al as T,I as n,q as S,x as h,z as L,a2 as W,am as D,ae as E,A as H,p as O,N as q,O as A,S as N,M,K as g,u as $}from"./index.80d93cd5.js";import{r as V,q as K}from"./index.7330b991.js";const Q={class:"no-scale-box"},R={__name:"index",props:{width:{type:Number,default:1920},height:{type:Number,default:1080},scroll:{type:Boolean,default:!1},scrollPosition:{type:String,default:"center"},displayOrigin:{type:Boolean,default:!1},transitionName:{type:String,default:"fade"}},setup(a){const l=a,c=r(!0),e=r(null),o=r(null),i=r(1),t=r(!1),d=r(!1);b(()=>l.scroll,s=>{t.value=s});const v=()=>{const{width:s,height:_,displayOrigin:f,scroll:x}=l;if(t.value=x,f)return d.value=x,1;let p=window.innerWidth/s,m=window.innerHeight/_;return t.value?m:p<m?p:m},u=D(()=>{if(!e.value)return;i.value=v();const{width:s,height:_,scrollPosition:f,scroll:x}=l;e.value.style.setProperty("--scale",i.value),e.value.style.setProperty("--height",`${_}px`),e.value.style.setProperty("--width",`${s}px`),c.value=!1,setTimeout(()=>{c.value=!0,E(()=>{if(t.value){const p={left:0,center:(e.value.offsetWidth*i.value-o.value.offsetWidth)/2,right:e.value.offsetWidth*i.value};o.value.scrollLeft=p[f]}})},100)},500);return C(()=>{u(),window.addEventListener("resize",u)}),I(()=>{window.removeEventListener("resize",u)}),H("getPageScale",i),(s,_)=>(w(),k(W,{name:a.transitionName},{default:B(()=>[z(n("div",{ref_key:"ScaleContainer",ref:o,class:h(["scale-container scroll-style",{"scroll__x-visible":t.value,"scroll__y-visible":d.value}])},[n("div",Q,[S(s.$slots,"noScale",{},void 0,!0)]),n("div",{ref_key:"scaleBox",ref:e,class:h(t.value?"scale-box__scroll":"scale-box"),style:L({width:`${a.width}px`,height:`${a.height}px`})},[S(s.$slots,"default",{},void 0,!0)],6)],2),[[T,c.value]])]),_:3},8,["name"]))}},U=y(R,[["__scopeId","data-v-7ca816d8"]]);const P=a=>(q("data-v-12e8a917"),a=a(),A(),a),X={class:"screen-nav-container"},Y=P(()=>n("span",{class:"nav-text"},"\u5BFC\u822A\u4E00",-1)),j=[Y],F=P(()=>n("span",{class:"nav-text"},"\u5BFC\u822A\u4E8C",-1)),G=[F],J={__name:"index",props:{active:{type:Number,default:0}},emits:["change-nav"],setup(a,{emit:l}){return(c,e)=>(w(),O("div",X,[n("div",{class:h(["screen-nav__left",{"is-active":a.active===0}]),onClick:e[0]||(e[0]=o=>l("change-nav",0))},j,2),n("div",{class:h(["screen-nav__right",{"is-active":a.active===1}]),onClick:e[1]||(e[1]=o=>l("change-nav",1))},G,2)]))}},Z=y(J,[["__scopeId","data-v-12e8a917"]]);const ee={class:"screen-container"},ae={class:"screen-content-container"},te={__name:"index",setup(a){const{useScreenNav:l,useScreenApiData:c}=M,{activeNavIndex:e,handleChangeNav:o}=l(),{apiLoading:i,apiTimer:t,getScreenData:d}=c();b(()=>e.value,u=>{v()}),C(()=>{v()}),I(()=>{N([t.value])});const v=()=>{N([t.value]),i.value=!0,d(e.value),t.value=setInterval(()=>{d(e.value)},5e3)};return(u,s)=>(w(),k(U,null,{default:B(()=>[n("div",ee,[g(V),n("div",ae,[g(K)]),g(Z,{active:$(e),onChangeNav:$(o)},null,8,["active","onChangeNav"])])]),_:1}))}},le=y(te,[["__scopeId","data-v-e42a286c"]]);export{le as default};
